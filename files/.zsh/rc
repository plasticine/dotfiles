setopt prompt_subst
setopt hist_ignore_dups

if [ $(uname -s) = 'Darwin' ]; then
  export LANG="en_AU.UTF-8"
  export EDITOR='subl --wait --new-window'
  export PATH="$HOME/.bin:/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin:/usr/X11/bin:/usr/local/share/python:/usr/local/share/npm/bin:/usr/local/heroku/bin"
  export MANPATH="/usr/local/share/man:/usr/X11/man:/usr/share/man"
  precmd () {print -Pn "\e]2; %~/ \a"}
  preexec () {print -Pn "\e]2; %~/ \a"}
else
  export PATH="$HOME/.bin:/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin"
fi

# set up pythonbrew
. ~/.pythonbrew/etc/bashrc

# define a default virtualenv to use
# needs to be above the prompt setup so we dont get a munged prompt
# all the time...
. ~/.virtualenvs/_default/bin/activate

. ~/.zsh/prompt
. ~/.zsh/aliases
. ~/.zsh/dj_aliases
. ~/.zsh/git_aliases
. ~/.zsh/functions

. ~/.bin/zsh_hub_completion
. ~/.bin/zsh-syntax-highlighting//zsh-syntax-highlighting.zsh

# bring in functions for `hub` (brew install hub)
. /usr/local/share/zsh/site-functions

# Lines configured by zsh-newuser-install
HISTFILE=~/.zsh_history
HISTSIZE=1000000
SAVEHIST=1000000
setopt extendedglob notify
setopt append_history
setopt inc_append_history
unsetopt autocd
bindkey -e
# End of lines configured by zsh-newuser-install
# The following lines were added by compinstall
zstyle :compinstall filename '/Users/justin/.zshrc'

autoload -Uz compinit
compinit
setopt complete_in_word
# End of lines added by compinstall

zstyle ':completion:*' matcher-list 'm:{a-z}={A-Z}' 'r:|[._-]=* r:|=*' 'l:|=* r:|=*'

export WORDCHARS='*?[]~=&;!#$%^(){}'

export WORKON_HOME=$HOME/.virtualenvs
export PIP_VIRTUALENV_BASE=$WORKON_HOME
export PIP_REQUIRE_VIRTUALENV=true
export VIRTUALENV_DISTRIBUTE=true

# mappings for Ctrl/Option-left-arrow and Ctrl/Option-right-arrow for word moving
bindkey "\e\e[C"  forward-word
bindkey "\e\e[D"  backward-word

bindkey '^' self-insert-backslash
function self-insert-backslash() { LBUFFER+='\'; zle .self-insert }
zle -N self-insert-backslash

if which rbenv > /dev/null; then eval "$(rbenv init -)"; fi

if [ -f $HOME/.venvburrito/startup.sh ]; then
    . $HOME/.venvburrito/startup.sh
fi
if [ -f $HOME/.pythonbrew/etc/bashrc ]; then
	. $HOME/.pythonbrew/etc/bashrc
fi
